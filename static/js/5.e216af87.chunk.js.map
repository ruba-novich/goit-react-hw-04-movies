{"version":3,"sources":["components/MoviePreview/MoviePreview.module.css","components/MoviesList/MoviesList.module.css","components/MoviePreview/MoviePreview.js","components/MoviesList/MoviesList.js","components/SearchMovie/SearchMovie.module.css","components/SearchMovie/SearchMovie.js","views/MoviesPage.js"],"names":["module","exports","MoviePreview","movie","className","styles","MovieListImg","src","poster_path","alt","original_title","MovieListTitle","title","withRouter","movies","match","location","movieUrl","url","includes","MovieList","map","MovieItem","MovieListItem","to","pathname","id","state","from","SearchMovie","query","handleChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","SearchForm","this","type","SerchBtn","BtnText","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","MoviesPage","imgPage","onChangeQuery","prevProps","prevState","fetchMovies","a","Axios","get","response","data","results","MoviesList"],"mappings":"4HACAA,EAAOC,QAAU,CAAC,eAAiB,qCAAqC,aAAe,qC,mBCAvFD,EAAOC,QAAU,CAAC,UAAY,8BAA8B,cAAgB,kCAAkC,UAAY,gC,iHCc3GC,EAZM,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACtB,OACE,gCACE,qBACEC,UAAWC,IAAOC,aAClBC,IAAG,yCAAoCJ,EAAMK,aAC7CC,IAAKN,EAAMO,iBAEb,mBAAGN,UAAWC,IAAOM,eAArB,SAAsCR,EAAMS,Y,iBCiBnCC,eAtBI,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,SAC/BC,EAAWF,EAAMG,IAAIC,SAAS,UAAY,GAAK,SAEnD,OACE,oBAAIf,UAAWC,IAAOe,UAAtB,SACGN,EAAOO,KAAI,SAAAlB,GAAK,OACf,oBAAmBC,UAAWC,IAAOiB,UAArC,SACE,cAAC,IAAD,CACElB,UAAWC,IAAOkB,cAClBC,GAAI,CACFC,SAAS,GAAD,OAAKV,EAAMG,KAAX,OAAiBD,EAAjB,YAA6Bd,EAAMuB,IAC3CC,MAAO,CAAEC,KAAMZ,IAJnB,SAOE,cAAC,EAAD,CAAcb,MAAOA,OARhBA,EAAMuB,a,mBCXvB1B,EAAOC,QAAU,CAAC,WAAa,gCAAgC,gBAAkB,qCAAqC,SAAW,8BAA8B,UAAY,+BAA+B,QAAU,+B,mICsCrM4B,E,4MAnCbF,MAAQ,CACNG,MAAO,I,EAGTC,aAAe,SAAAC,GACb,EAAKC,SAAS,CAAEH,MAAOE,EAAEE,cAAcC,S,EAGzCC,aAAe,SAAAJ,GACbA,EAAEK,iBACF,EAAKC,MAAMC,SAAS,EAAKZ,MAAMG,OAC/B,EAAKG,SAAS,CAAEH,MAAO,M,4CAGzB,WACE,OACE,uBAAM1B,UAAWC,IAAOmC,WAAYD,SAAUE,KAAKL,aAAnD,UACE,wBAAQM,KAAK,SAAStC,UAAWC,IAAOsC,SAAxC,SACE,sBAAMvC,UAAWC,IAAOuC,QAAxB,sBAGF,uBACExC,UAAWC,IAAOwC,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,eACZb,MAAOM,KAAKd,MAAMG,MAClBmB,SAAUR,KAAKV,sB,GA7BCmB,a,yBCEpBC,E,4MACJxB,MAAQ,CACNb,OAAQ,GACRgB,MAAO,GACPsB,QAAS,G,EASXC,cAAgB,SAAAvB,GACd,EAAKG,SAAS,CAAEH,MAAOA,K,wDAPzB,SAAmBwB,EAAWC,GACxBA,EAAUzB,QAAUW,KAAKd,MAAMG,OACjCW,KAAKe,gB,gEAQT,kCAAAC,EAAA,4DACkB,mCADlB,EAE6BhB,KAAKd,MAAxBG,EAFV,EAEUA,MAAOsB,EAFjB,EAEiBA,QAFjB,SAIyBM,IAAMC,IAAN,4DAHP,mCAGO,iBACgDP,EADhD,sCACqFtB,IAL9G,OAIQ8B,EAJR,OAQEnB,KAAKR,SAAS,CAAEnB,OAAQ8C,EAASC,KAAKC,UARxC,gD,0EAWA,WACE,OACE,qCACE,cAAC,EAAD,CAAavB,SAAUE,KAAKY,gBAC5B,cAACU,EAAA,EAAD,CAAYjD,OAAQ2B,KAAKd,MAAMb,gB,GAhCdoC,aAsCVC","file":"static/js/5.e216af87.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieListTitle\":\"MoviePreview_MovieListTitle__102v1\",\"MovieListImg\":\"MoviePreview_MovieListImg__3HFqA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MovieItem\":\"MoviesList_MovieItem__DgovZ\",\"MovieListItem\":\"MoviesList_MovieListItem__1M-eb\",\"MovieList\":\"MoviesList_MovieList__1EKL3\"};","import React from 'react';\r\nimport styles from './MoviePreview.module.css';\r\n\r\nconst MoviePreview = ({ movie }) => {\r\n  return (\r\n    <div>\r\n      <img\r\n        className={styles.MovieListImg}\r\n        src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\r\n        alt={movie.original_title}\r\n      />\r\n      <p className={styles.MovieListTitle}>{movie.title}</p>\r\n    </div>\r\n  );\r\n};\r\nexport default MoviePreview;\r\n","import React from 'react';\r\nimport { NavLink, withRouter } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport MoviePreview from '../MoviePreview';\r\nimport styles from './MoviesList.module.css';\r\n\r\nconst MoviesList = ({ movies, match, location }) => {\r\n  let movieUrl = match.url.includes('movies') ? '' : 'movies';\r\n\r\n  return (\r\n    <ul className={styles.MovieList}>\r\n      {movies.map(movie => (\r\n        <li key={movie.id} className={styles.MovieItem}>\r\n          <NavLink\r\n            className={styles.MovieListItem}\r\n            to={{\r\n              pathname: `${match.url}${movieUrl}/${movie.id}`,\r\n              state: { from: location },\r\n            }}\r\n          >\r\n            <MoviePreview movie={movie} />\r\n          </NavLink>\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default withRouter(MoviesList);\r\n\r\nMoviesList.propTypes = {\r\n  movies: PropTypes.array.isRequired,\r\n  match: PropTypes.object.isRequired,\r\n  location: PropTypes.object.isRequired,\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchForm\":\"SearchMovie_SearchForm__2dRIJ\",\"SearchFormInput\":\"SearchMovie_SearchFormInput__1kyIg\",\"SerchBtn\":\"SearchMovie_SerchBtn__1yuhN\",\"SearchBtn\":\"SearchMovie_SearchBtn__27_ia\",\"BtnText\":\"SearchMovie_BtnText__mv9cb\"};","import { Component } from 'react';\r\nimport styles from './SearchMovie.module.css';\r\n\r\nclass SearchMovie extends Component {\r\n  state = {\r\n    query: '',\r\n  };\r\n\r\n  handleChange = e => {\r\n    this.setState({ query: e.currentTarget.value });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\r\n        <button type=\"submit\" className={styles.SerchBtn}>\r\n          <span className={styles.BtnText}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={styles.SearchFormInput}\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search movie\"\r\n          value={this.state.query}\r\n          onChange={this.handleChange}\r\n        />\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchMovie;\r\n","import { Component } from 'react';\r\nimport SearchMovie from '../components/SearchMovie';\r\nimport MoviesList from '../components/MoviesList';\r\nimport Axios from 'axios';\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    movies: [],\r\n    query: '',\r\n    imgPage: 1,\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.query !== this.state.query) {\r\n      this.fetchMovies();\r\n    }\r\n  }\r\n\r\n  onChangeQuery = query => {\r\n    this.setState({ query: query });\r\n  };\r\n\r\n  async fetchMovies() {\r\n    const API_KEY = '4f82ed1427d5ffdf5673256bc4f7ef74';\r\n    const { query, imgPage } = this.state;\r\n\r\n    const response = await Axios.get(\r\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&page=${imgPage}&include_adult=false&query=${query}`,\r\n    );\r\n\r\n    this.setState({ movies: response.data.results });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <SearchMovie onSubmit={this.onChangeQuery} />\r\n        <MoviesList movies={this.state.movies} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}