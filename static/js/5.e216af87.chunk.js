(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{40:function(e,t,a){e.exports={MovieListTitle:"MoviePreview_MovieListTitle__102v1",MovieListImg:"MoviePreview_MovieListImg__3HFqA"}},41:function(e,t,a){e.exports={MovieItem:"MoviesList_MovieItem__DgovZ",MovieListItem:"MoviesList_MovieListItem__1M-eb",MovieList:"MoviesList_MovieList__1EKL3"}},44:function(e,t,a){"use strict";a.d(t,"a",(function(){return v}));a(0);var i=a(9),n=a(2),r=a(40),c=a.n(r),s=a(1),o=function(e){var t=e.movie;return Object(s.jsxs)("div",{children:[Object(s.jsx)("img",{className:c.a.MovieListImg,src:"https://image.tmdb.org/t/p/w300".concat(t.poster_path),alt:t.original_title}),Object(s.jsx)("p",{className:c.a.MovieListTitle,children:t.title})]})},u=a(41),h=a.n(u),v=Object(n.g)((function(e){var t=e.movies,a=e.match,n=e.location,r=a.url.includes("movies")?"":"movies";return Object(s.jsx)("ul",{className:h.a.MovieList,children:t.map((function(e){return Object(s.jsx)("li",{className:h.a.MovieItem,children:Object(s.jsx)(i.b,{className:h.a.MovieListItem,to:{pathname:"".concat(a.url).concat(r,"/").concat(e.id),state:{from:n}},children:Object(s.jsx)(o,{movie:e})})},e.id)}))})}))},72:function(e,t,a){e.exports={SearchForm:"SearchMovie_SearchForm__2dRIJ",SearchFormInput:"SearchMovie_SearchFormInput__1kyIg",SerchBtn:"SearchMovie_SerchBtn__1yuhN",SearchBtn:"SearchMovie_SearchBtn__27_ia",BtnText:"SearchMovie_BtnText__mv9cb"}},78:function(e,t,a){"use strict";a.r(t);var i=a(37),n=a.n(i),r=a(38),c=a(15),s=a(16),o=a(18),u=a(17),h=a(0),v=a(72),m=a.n(v),l=a(1),f=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(s.a)(a,[{key:"render",value:function(){return Object(l.jsxs)("form",{className:m.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(l.jsx)("button",{type:"submit",className:m.a.SerchBtn,children:Object(l.jsx)("span",{className:m.a.BtnText,children:"Search"})}),Object(l.jsx)("input",{className:m.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movie",value:this.state.query,onChange:this.handleChange})]})}}]),a}(h.Component),p=a(44),b=a(39),j=a.n(b),d=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={movies:[],query:"",imgPage:1},e.onChangeQuery=function(t){e.setState({query:t})},e}return Object(s.a)(a,[{key:"componentDidUpdate",value:function(e,t){t.query!==this.state.query&&this.fetchMovies()}},{key:"fetchMovies",value:function(){var e=Object(r.a)(n.a.mark((function e(){var t,a,i,r;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"4f82ed1427d5ffdf5673256bc4f7ef74",t=this.state,a=t.query,i=t.imgPage,e.next=4,j.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat("4f82ed1427d5ffdf5673256bc4f7ef74","&page=").concat(i,"&include_adult=false&query=").concat(a));case 4:r=e.sent,this.setState({movies:r.data.results});case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(f,{onSubmit:this.onChangeQuery}),Object(l.jsx)(p.a,{movies:this.state.movies})]})}}]),a}(h.Component);t.default=d}}]);
//# sourceMappingURL=5.e216af87.chunk.js.map